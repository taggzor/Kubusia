{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","lib/eveemi.js","lib/utility.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"eveemi.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n * eveemi.ts\n */\n// ユーティリティ関数をインポート\nvar utility_1 = require('./utility');\nvar EveEmi = (function () {\n    /**\n     * 初期化処理\n     */\n    function EveEmi() {\n        this._allListener = [];\n    }\n    /**\n     * イベントを購読する\n     */\n    EveEmi.prototype.on = function (type, callback, ctx, once) {\n        var _this = this;\n        if (once === void 0) { once = false; }\n        type = utility_1.trim(type);\n        // イベントが2個以上指定されている場合\n        if (/\\s/.test(type)) {\n            var types = type.split(' ');\n            return utility_1.forEach(types, function (_type) { return _this.on(_type, callback, ctx, once); });\n        }\n        this._allListener.push({ ctx: ctx, type: type, once: once, callback: callback });\n    };\n    /**\n     * targetのイベントを購読する\n     */\n    EveEmi.prototype.listenTo = function (target, type, callback, ctx, once) {\n        if (once === void 0) { once = false; }\n        target.on(type, callback, ctx, once);\n    };\n    /**\n     * targetのイベントを一度だけ購読する\n     */\n    EveEmi.prototype.listenToOnce = function (target, type, callback, ctx) {\n        this.listenTo(target, type, callback, ctx, true);\n    };\n    /**\n     * targetのイベント購読を取り消す\n     */\n    EveEmi.prototype.stopListening = function (target, type, func) {\n        target.off(type, func);\n    };\n    /**\n     * イベント購読を取り消す\n     */\n    EveEmi.prototype.off = function (type, func) {\n        var _this = this;\n        utility_1.forEach(this._allListener, function (_a, i) {\n            var ctx = _a.ctx, type = _a.type, once = _a.once, callback = _a.callback;\n            if (func !== callback)\n                return;\n            _this._allListener.splice(i, 1);\n        });\n    };\n    /**\n     * イベントを一回だけ購読する\n     */\n    EveEmi.prototype.once = function (type, callback, ctx) {\n        this.on(type, callback, ctx, true);\n    };\n    /**\n     * イベントを発火させる\n     */\n    EveEmi.prototype.trigger = function (_type) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        utility_1.forEach(this._allListener, function (_a) {\n            var ctx = _a.ctx, type = _a.type, once = _a.once, callback = _a.callback;\n            if (type !== _type)\n                return;\n            callback.apply(ctx, args);\n            if (!once)\n                return;\n            _this.off(_type, callback);\n        });\n    };\n    return EveEmi;\n})();\nmodule.exports = EveEmi;\n","/**\n * utility.js\n */\nfunction forEach(arr, callback, ctx) {\n    var i = 0;\n    var max = arr.length;\n    for (; i < max; i += 1) {\n        callback.call(ctx, arr[i], i, arr);\n    }\n}\nexports.forEach = forEach;\nfunction trim(str) {\n    // refs: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim\n    var rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n    return str.replace(rtrim, '');\n}\nexports.trim = trim;\n"]}